{% extends "base.html" %}

{% block title %}Lugares filtrados - Travel Map{% endblock %}

{% block contenido %}
  <section class="contenido">
    <h2 class="contenido-titulo">{{ tipo|title }}</h2>
    <div class="lista-lugares">
      {% if lugares %}
      <div class="grid-lugares">
        {% for lugar in lugares %}
          <div class="lugar-card" data-nombre="{{ lugar.nombre }}">
            <h3>{{ lugar.nombre }}</h3>
            <p> {{ lugar.direccion }}</p>
            <p> {{ lugar.municipio }} {{ lugar.departamento }}</p>
            <p>
              Calificaci√≥n: {{ lugar.calificacion }} 
              <span class="estrellas">
                {% set cal = lugar.calificacion %}
                {% for i in range(1, 6) %}
                  {% if cal >= i %}
                    <span class="estrella llena">&#9733;</span>
                  {% elif cal + 0.5 >= i %}
                    <span class="estrella media">&#9733;</span>
                  {% else %}
                    <span class="estrella vacia">&#9734;</span>
                  {% endif %}
                {% endfor %}
              </span>
            </p>
            <p>
              Precio: 
              {% if lugar.precio == 0 %}
                Gratis
              {% else %}
                Desde Q {{ lugar.precio }}
              {% endif %}
            </p>
            
          </div>
        {% endfor %}
      </div>
      {% else %}
        <p>No se encontraron lugares para este filtro.</p>
      {% endif %}
    </div>
  </section>
{% endblock %}

{% block scripts %}
  <script src="{{ js_path }}"></script>
  <script src="{{ detalle }}"></script>
{% endblock %}
